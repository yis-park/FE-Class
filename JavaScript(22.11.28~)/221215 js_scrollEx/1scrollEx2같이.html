<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>scrollEx2</title>
    <style>
      body {
        margin: 0;
        text-align: center;
        font-weight: bold;
        background-color: #ddd;
      }
      nav {
        padding: 20px;
        background-color: pink;
      }
      h1 {
        background-color: purple;
        color: #fff;
        margin: 0;
        padding: 40px;
        position: sticky;
        top: 0px;
      }
      main {
        height: 400vh;
        background-color: #ddd;
      }
      footer {
        background-color: #333;
        font-size: 1.5em;
        color: #fff;
        padding: 50px;
      }
      #banner {
        width: 300px;
        height: 80px;
        background-color: rgb(89, 235, 121);
        color: #fff;
        font-size: 2em;
        position: fixed;
        right: -340px;
        bottom: 80px;
        transition: 0.3s;
        /* transform: translateX(0); */
      }
      #banner.on {
        right: 0;
        /* transform: translateX(-340px); */
      }
    </style>
  </head>
  <body>
    <nav>내비게이션</nav>
    <h1>scrollEx2</h1>
    <main>원하는 위치에서 실행</main>
    <footer>푸터</footer>

    <div id="banner">배너입니다.</div>

    <script>
      const banner = document.querySelector("#banner");
      const footer = document.querySelector("footer");

      // offsetTop; 부모 요소의 포지션을 기준으로 위에서부터 떨어져있는 걸. 부모에 포지션이 없는 경우 body(문서) 기준

      let footerOffsetTop = footer.offsetTop;
      let cumelientHt = docnt.documentElement.clientHeight;
      console.log(footerOffsetTop); // 3932
      console.log(clientHt); // 937 현재 보여지는 화면의 길이
      console.log(footer.clientHeight); //132 푸터가 갖고있는 높이값(h+p)

      let result = footerOffsetTop - clientHt - footer.clientHeight;
      addEventListener("scroll", () => {
        //console.log(scrollY); scrollbar top의 위치
        if (scrollY > result) {
          // 배너 보임
          banner.classList.add("on");
        } else if (scrollY < result) {
          // 배너 숨김
          banner.classList.remove("on");
        }
      });
    </script>
  </body>
</html>
