<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>scroll에 따른 이벤트 1</title>
    <style>
      body {
        margin: 0;
        text-align: center;
        font-size: 2em;
        font-weight: bold;
      }
      header {
        background-color: tomato;
        color: #fff;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 20px;
        box-sizing: border-box;
        transition: 0.4s;
      }
      main {
        height: 400vh;
        background-color: #f8ede3;
        padding-top: 200px;
      }
    </style>
  </head>
  <body>
    <header>header</header>
    <main>main</main>
    <script>
      const header = document.querySelector("header");
      let prevScroll = scrollY;
      console.log("prevScroll: ", prevScroll); // 현재 스크롤바가 있는 위치

      const scrolled = () => {
        // 이전 스크롤값과 현재 스크롤값을 비교하여 현재 스크롤값이 크면 스크롤이 아래 있는것

        // 스크롤 이벤트가 발생될 때만 스크롤된 값 반환
        let currentScroll = scrollY;
        console.log("currentScroll:", currentScroll);

        const headerHt = header.offsetHeight;
        console.log(headerHt);

        // prevScroll < currentScroll
        //   ? (header.style.top = `-${headerHt}px`)
        //   : (header.style.top = 0);
        prevScroll < currentScroll ? posTop(headerHt) : posTop(0);

        prevScroll = currentScroll; // 이전 스크롤값에 현재 스크롤값 대입
        console.log("함수내 prevScroll: ", prevScroll);
      };

      function posTop(top) {
        header.style.top = `-${top}px`;
      }
      addEventListener("scroll", scrolled);
    </script>
  </body>
</html>
