<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>requestAnimationFrame</title>
  <style>
    body {
      width: 100%;
      height: 100vh;
      margin: 0;
    }
    .emoji {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 5em;

      will-change: transform; /* transformì„ ì‚¬ìš©í• í…Œë‹ˆ ë¸Œë¼ìš°ì €ëŠ” ë¯¸ë¦¬ ì¤€ë¹„í•˜ì—¬ë¼ = ë²„ë²…ê±°ë¦¼ì´ ì¤„ì–´ë“ ë‹¤ */
    }
    /* 
      will-change ì¼ì–´ë‚  ë™ì‘ì„ ë¯¸ë¦¬ ë¸Œë¼ìš°ì €ì—ê²Œ ì•Œë ¤ì¤Œ
      ì›¹í‚· ê³„ì—´ ë¸Œë¼ìš°ì €ì˜ ê²½ìš° css transformì´ë‚˜ animation ì†ì„± ì‚¬ìš© ì‹œ ê¹œë°•ì´ëŠ” í˜„ìƒì´ ìˆì„ ìˆ˜ ìˆì–´ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©

      auto; ê¸°ë³¸ê°’
      scroll-position; ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë°”ê¿ˆ
      contents;
      ê·¸ ì™¸ css ì†ì„± (opacity, top, left ...) ì‚¬ìš©ê°€ëŠ¥
    */
  </style>
</head>
<body>
  <div class="emoji">ğŸ…</div>
  <script>
  /*
    window.requestAnimationFrame(ì½œë°±í•¨ìˆ˜);
    í™”ë©´ì— í”„ë ˆì„ì´ ì‹¤í–‰ë˜ê¸° ì „ í•¨ìˆ˜ í˜¸ì¶œ.
    ì‹œê°„ ê²½ê³¼ì— ë”°ë¥¸ ì§€ì†ì ì¸ ë³€í™” ê°€ëŠ¥
    í•œ ë²ˆë§Œ í˜¸ì¶œë˜ë¯€ë¡œ ì—°ì† í˜¸ì¶œ í•„ìš”

    https://developer.mozilla.org/ko/docs/Web/API/Window/requestAnimationFrame
  */

  const emoji = document.querySelector('.emoji')
  // ë§ˆìš°ìŠ¤ ì¢Œí‘œ
  let mouseX = 0;
  let mouseY = 0;
  // ì»¤ì„œë¥¼ ë”°ë¼ë‹¤ë‹ˆëŠ” ì´ëª¨ì§€ ì¢Œí‘œ
  let emojiX = 0;
  let emojiY = 0;

  // ë§ˆìš°ìŠ¤ ì´ë™
  addEventListener('mousemove', e => {

    mouseX = e.clientX - 110; // ìˆ«ìë§Œ ë°˜í™˜ë˜ê¸° ë•Œë¬¸ì— pxì œì™¸
    mouseY = e.clientY - 110;
  })

  function ani() {
    requestAnimationFrame(ani); // ì—°ì† í˜¸ì¶œ í•„ìš”

    emojiX += (mouseX - emojiX) * 0.1;
    emojiY += (mouseY - emojiY) * 0.1;

    emoji.style.transform = `translate(${emojiX}px, ${emojiY}px)`
  }
  
  ani();
  </script>
</body>
</html>