<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>js로 video 제어</title>
    <style>
      .wrapper {
        display: flex;
      }
      .wrapper article {
        width: 30vw;
        height: 30vw;
        overflow: hidden;
        margin: 0 10px;
        /* border: 1px solid #000; */
      }
      .wrapper article .video_wrapper {
        filter: sepi a(100%);
        transition: 0.4s;
      }
      .wrapper article .video_wrapper:hover {
        filter: none;
        transform: scale(1.1);
      }
      .wrapper article video {
        width: 100%;
        object-fit: cover;
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // head부분에 스크립트 작성할때 해줘야함
        const articles = document.querySelectorAll("article");
        const videoPause = (e) => {
          const target = e.currentTarget.querySelector("video");
          target.pause(); //일시 멈춤
        };

        articles.forEach((article) => {
          article.addEventListener("mouseenter", (e) => {
            // 마우스를 올렸을 때
            console.log(e.target); //article
            e.target.querySelector("video").play();
          });
          // 마우스를 벗어났을 때
          article.addEventListener("mouseleave", videoPause);
        });
      });
    </script>
  </head>
  <body>
    <div class="wrapper">
      <article>
        <div class="video_wrapper">
          <video src="./images/vid.mp4" loop muted preload></video>
        </div>
      </article>
      <article>
        <div class="video_wrapper">
          <video src="./images/vid.mp4" loop muted preload></video>
        </div>
      </article>
      <article>
        <div class="video_wrapper">
          <video src="./images/vid.mp4" loop muted preload></video>
        </div>
      </article>
    </div>
  </body>
</html>
