<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>scrollY</title>
    <style>
      body {
        margin: 0;
      }
      main {
        height: 300vh;
        background-color: lightskyblue;
        font-size: 4em;
        margin-top: 140px;
      }
      header {
        position: fixed;
        top: 0;
        background-color: tomato;
        width: 100%;
        height: 140px;
        transition: 0.4s;
        border-bottom: 3px solid #000;
        display: flex;
        justify-content: space-between;
      }
      header h1 {
        margin: 20px;
        background-color: rgb(203, 111, 240);
      }
      header #gnb {
        display: flex;
        font-size: 1.4em;
        font-weight: bold;
        list-style: none;
        margin: 0;
        padding: 0;
      }
      header #gnb a {
        color: inherit;
        text-decoration: none;
        display: block;
        margin: 30px;
      }
      header.active {
        background-color: transparent; /*투명*/
        height: 80px;
        border-bottom-width: 1px;
      }
      header.active #gnb {
        font-size: 1.2em;
      }
      header.active + main {
        margin-top: 80px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>로고</h1>
      <div id="gnb">
        <li><a href="#">메뉴1</a></li>
        <li><a href="#">메뉴2</a></li>
        <li><a href="#">메뉴3</a></li>
        <li><a href="#">메뉴4</a></li>
      </div>
    </header>
    <main><h2>main</h2></main>
    <script>
      /*
      window.pageYOffset: y축 방향으로 스크롤한 거리. 오래된 버전과 호환
      window.scrollY: y축 방향으로 얼마나 스크롤 되었는지 값으로 반환
      pageXOffset: x축 스크롤한 거리
      scrollX: x축 스크롤한 거리

      box1.scrollTop <- 작성가능
      box1.scrollY<- 작성불가
      document.documentElement.scrollTop: 스크롤에 따라 숨겨진 컨텐츠의 가로로 y축 방향으로 스크롤한 거리 값으로 반환
      */

      const header = document.querySelector("header");
      const h2 = document.querySelector("h2");

      addEventListener("scroll", () => {
        console.log("scrollTop: ", document.documentElement.scrollTop);
        console.log("pageYOffset", pageYOffset);
        console.log("scrollY", scrollY);

        let num = h2.offsetTop - 100;
        console.log(num);
        if (scrollY > num) {
          header.classList.add("active");
        } else if (scrollY <= 300) {
          header.classList.remove("active");
        }
      });
    </script>
  </body>
</html>
