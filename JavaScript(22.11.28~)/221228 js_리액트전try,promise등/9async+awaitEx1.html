<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>async.. await.. ex1</title>
    <style>
      ul {
        padding: 20px;
        border-bottom: 3px solid #000;
      }
    </style>
  </head>
  <body>
    <div id="result"></div>
    <script>
      const result = document.querySelector("#result");
      const URL = "https://jsonplaceholder.typicode.com/photos";

      // photos 중 랜덤으로 한개만 title 과 url 출력
      // title 명의 글자 출력 수 10자리까지만

      /* 
      fetch(URL)
        .then((response) => response.json())
        .then((pics) => {
          const random = Math.trunc(Math.random() * 100); //0 ~ 100
          console.log(pics[random]);
          result.innerHTML = `
                <h3>${pics[random].title.substring(0, 11)}</h3>
                <img src=${pics[random].url} alt=${pics[random].title}>
                `;
        })
        .catch((err) => console.log(err));
      */

      (async () => {
        const res = await fetch(URL);
        const pics = await res.json();

        userPics(pics);
      })();

      function userPics(pics) {
        const random = Math.trunc(Math.random() * 100);
        result.innerHTML = `
                <h3>${pics[random].title.substring(0, 11)}</h3>
                <img src=${pics[random].thumbnailUrl} alt=${pics[random].title}>
                `;
      }
    </script>
  </body>
</html>
